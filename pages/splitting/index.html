<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>
Splitting curves
</title>
<base href='..'>
</head>
<body>
<div data-reactid=".nq7zum5mo0" data-react-checksum="-1803885457"><div class="ribbon" data-reactid=".nq7zum5mo0.0"><img src="images/ribbon.png" alt="This page on GitHub" usemap="#githubmap" width="200px" height="149px" data-reactid=".nq7zum5mo0.0.0"/><map name="githubmap" data-reactid=".nq7zum5mo0.0.1"><area shape="poly" coords="30,0, 200,0, 200,114" href="http://github.com/pomax/BezierInfo-2" alt="This page on GitHub" data-reactid=".nq7zum5mo0.0.1.0"/></map></div><header data-reactid=".nq7zum5mo0.1"><h1 data-reactid=".nq7zum5mo0.1.0">A Primer on Bézier Curves</h1><h2 data-reactid=".nq7zum5mo0.1.1">A free, online book for when you really need to know how to do Bézier things.</h2></header><div data-reactid=".nq7zum5mo0.2"><table class="relatives before" data-reactid=".nq7zum5mo0.2.0"><tbody data-reactid=".nq7zum5mo0.2.0.0"><tr data-reactid=".nq7zum5mo0.2.0.0.0"><td data-reactid=".nq7zum5mo0.2.0.0.0.0"><a class="prev" href="flattening" data-reactid=".nq7zum5mo0.2.0.0.0.0.0">7. Simplified drawing</a></td><td class="toc" data-reactid=".nq7zum5mo0.2.0.0.0.1"><a class="" href="/" data-reactid=".nq7zum5mo0.2.0.0.0.1.0">ToC</a></td><td data-reactid=".nq7zum5mo0.2.0.0.0.2"><a class="next" href="matrixsplit" data-reactid=".nq7zum5mo0.2.0.0.0.2.0">9. Splitting curves using matrices</a></td></tr></tbody></table><section data-reactid=".nq7zum5mo0.2.$splitting"><h2 data-num="8" data-reactid=".nq7zum5mo0.2.$splitting.0"><a href="#splitting" data-reactid=".nq7zum5mo0.2.$splitting.0.0">Splitting curves</a></h2><p data-reactid=".nq7zum5mo0.2.$splitting.1"><span data-reactid=".nq7zum5mo0.2.$splitting.1.0">With de Casteljau&#x27;s algorithm we also find all the points we need to split up a Bézier curve into two, smaller curves, which taken together form the original curve. When we construct de Casteljau&#x27;s skeleton for some value</span><i data-reactid=".nq7zum5mo0.2.$splitting.1.1">t</i><span data-reactid=".nq7zum5mo0.2.$splitting.1.2">, the procedure gives us all the points we need to split a curve at that </span><i data-reactid=".nq7zum5mo0.2.$splitting.1.3">t</i><span data-reactid=".nq7zum5mo0.2.$splitting.1.4"> value: one curve is defined by all the inside skeleton points found prior to our on-curve point, with the other curve being defined by all the inside skeleton points after our on-curve point.</span></p><figure class="false" data-reactid=".nq7zum5mo0.2.$splitting.2"><canvas tabindex="0" data-reactid=".nq7zum5mo0.2.$splitting.2.0"></canvas><figcaption data-reactid=".nq7zum5mo0.2.$splitting.2.1"><span data-reactid=".nq7zum5mo0.2.$splitting.2.1.0">Splitting a curve</span><span data-reactid=".nq7zum5mo0.2.$splitting.2.1.1"> </span></figcaption></figure><div class="howtocode" data-reactid=".nq7zum5mo0.2.$splitting.3"><h3 data-reactid=".nq7zum5mo0.2.$splitting.3.0">implementing curve splitting</h3><p data-reactid=".nq7zum5mo0.2.$splitting.3.1">We can implement curve splitting by bolting some extra logging onto the de Casteljau function:</p><pre data-reactid=".nq7zum5mo0.2.$splitting.3.2"><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.0">left=[]</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.1">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.2">right=[]</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.3">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.4">function drawCurve(points[], t):</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.5">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.6">  if(points.length==1):</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.7">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.8">    left.add(points[0])</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.9">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.a">    right.add(points[0])</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.b">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.c">    draw(points[0])</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.d">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.e">  else:</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.f">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.g">    newpoints=array(points.size-1)</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.h">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.i">    for(i=0; i&lt;newpoints.length; i++):</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.j">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.k">      if(i==0):</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.l">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.m">        left.add(points[i])</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.n">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.o">      if(i==newpoints.length-1):</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.p">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.q">        right.add(points[i+1])</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.r">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.s">      newpoints[i] = (1-t) * points[i] + t * points[i+1]</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.t">
</span><span data-reactid=".nq7zum5mo0.2.$splitting.3.2.u">    drawCurve(newpoints, t)</span></pre><p data-reactid=".nq7zum5mo0.2.$splitting.3.3"><span data-reactid=".nq7zum5mo0.2.$splitting.3.3.0">After running this function for some value </span><i data-reactid=".nq7zum5mo0.2.$splitting.3.3.1">t</i><span data-reactid=".nq7zum5mo0.2.$splitting.3.3.2">, the </span><i data-reactid=".nq7zum5mo0.2.$splitting.3.3.3">left</i><span data-reactid=".nq7zum5mo0.2.$splitting.3.3.4"> and </span><i data-reactid=".nq7zum5mo0.2.$splitting.3.3.5">right</i><span data-reactid=".nq7zum5mo0.2.$splitting.3.3.6"> arrays will contain all the coordinates for two new curves - one to the &quot;left&quot; of our </span><i data-reactid=".nq7zum5mo0.2.$splitting.3.3.7">t</i><span data-reactid=".nq7zum5mo0.2.$splitting.3.3.8"> value, the other on the &quot;right&quot;, of the same order as the original curve, and overlayed exactly on the original curve.</span></p></div><p data-reactid=".nq7zum5mo0.2.$splitting.4">This is best illustrated with an animated graphic (click to play/pause):</p><figure class="false" data-reactid=".nq7zum5mo0.2.$splitting.5"><canvas tabindex="0" data-reactid=".nq7zum5mo0.2.$splitting.5.0"></canvas><figcaption data-reactid=".nq7zum5mo0.2.$splitting.5.1"><span data-reactid=".nq7zum5mo0.2.$splitting.5.1.0">Bézier curve splitting</span><span data-reactid=".nq7zum5mo0.2.$splitting.5.1.1"> </span></figcaption></figure></section><table class="relatives after" data-reactid=".nq7zum5mo0.2.2"><tbody data-reactid=".nq7zum5mo0.2.2.0"><tr data-reactid=".nq7zum5mo0.2.2.0.0"><td data-reactid=".nq7zum5mo0.2.2.0.0.0"><a class="prev" href="flattening" data-reactid=".nq7zum5mo0.2.2.0.0.0.0">7. Simplified drawing</a></td><td class="toc" data-reactid=".nq7zum5mo0.2.2.0.0.1"><a class="" href="/" data-reactid=".nq7zum5mo0.2.2.0.0.1.0">ToC</a></td><td data-reactid=".nq7zum5mo0.2.2.0.0.2"><a class="next" href="matrixsplit" data-reactid=".nq7zum5mo0.2.2.0.0.2.0">9. Splitting curves using matrices</a></td></tr></tbody></table></div><footer class="copyright" data-reactid=".nq7zum5mo0.3"><span data-reactid=".nq7zum5mo0.3.0">This article is © 2011-2016 to me, Mike &quot;Pomax&quot; Kamermans, but the text, code, and images are </span><a href="https://github.com/Pomax/bezierinfo/blob/gh-pages/LICENSE.md" data-reactid=".nq7zum5mo0.3.1">almost no rights reserved</a><span data-reactid=".nq7zum5mo0.3.2">. Go do something cool with it!</span></footer></div>
</body>
</html>