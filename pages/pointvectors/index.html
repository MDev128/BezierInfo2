<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>
Tangents and normals
</title>
<base href='..'>
</head>
<body>
<div data-reactid=".59euozwn40" data-react-checksum="-1110192752"><div class="ribbon" data-reactid=".59euozwn40.0"><img src="images/ribbon.png" alt="This page on GitHub" usemap="#githubmap" width="200px" height="149px" data-reactid=".59euozwn40.0.0"/><map name="githubmap" data-reactid=".59euozwn40.0.1"><area shape="poly" coords="30,0, 200,0, 200,114" href="http://github.com/pomax/BezierInfo-2" alt="This page on GitHub" data-reactid=".59euozwn40.0.1.0"/></map></div><header data-reactid=".59euozwn40.1"><h1 data-reactid=".59euozwn40.1.0">A Primer on Bézier Curves</h1><h2 data-reactid=".59euozwn40.1.1">A free, online book for when you really need to know how to do Bézier things.</h2></header><div data-reactid=".59euozwn40.2"><table class="relatives before" data-reactid=".59euozwn40.2.0"><tbody data-reactid=".59euozwn40.2.0.0"><tr data-reactid=".59euozwn40.2.0.0.0"><td data-reactid=".59euozwn40.2.0.0.0.0"><a class="prev" href="derivatives" data-reactid=".59euozwn40.2.0.0.0.0.0">11. Derivatives</a></td><td class="toc" data-reactid=".59euozwn40.2.0.0.0.1"><a class="" href="/" data-reactid=".59euozwn40.2.0.0.0.1.0">ToC</a></td><td data-reactid=".59euozwn40.2.0.0.0.2"><a class="next" href="components" data-reactid=".59euozwn40.2.0.0.0.2.0">13. Component functions</a></td></tr></tbody></table><section data-reactid=".59euozwn40.2.$pointvectors"><h2 data-num="12" data-reactid=".59euozwn40.2.$pointvectors.0"><a href="#pointvectors" data-reactid=".59euozwn40.2.$pointvectors.0.0">Tangents and normals</a></h2><p data-reactid=".59euozwn40.2.$pointvectors.1">If you want to move objects along a curve, or &quot;away from&quot; a curve, the two vectors you&#x27;re most interested in are the tangent vector and normal vector for curve points. These are actually really easy to find. For moving, and orienting, along a curve we use the tangent, which indicates the direction travel at specific points, and is literally just the first derivative of our curve:</p><p data-reactid=".59euozwn40.2.$pointvectors.2"><img class="LaTeX SVG" src="images/latex/2271ae26977a681a1695d14ea8255564e716916e.svg" style="width:10.35rem;height:2.77515rem;" data-reactid=".59euozwn40.2.$pointvectors.2.0"/></p><p data-reactid=".59euozwn40.2.$pointvectors.3">This gives us the directional vector we want. We can normalize it to give us uniform directional vectors (having a length of 1.0) at each point, and then do whatever it is we want to do based on those directions:</p><p data-reactid=".59euozwn40.2.$pointvectors.4"><img class="LaTeX SVG" src="images/latex/3cb2c4f5806142e83c66e1312520d0783d15201c.svg" style="width:17.62515rem;height:2.025rem;" data-reactid=".59euozwn40.2.$pointvectors.4.0"/></p><p data-reactid=".59euozwn40.2.$pointvectors.5"><img class="LaTeX SVG" src="images/latex/72826b8f5053c299dbb2082678191e3564bb50a6.svg" style="width:20.62485rem;height:4.7250000000000005rem;" data-reactid=".59euozwn40.2.$pointvectors.5.0"/></p><p data-reactid=".59euozwn40.2.$pointvectors.6"><span data-reactid=".59euozwn40.2.$pointvectors.6.0">The tangent is very useful for moving along a line, but what if we want to move away from the curve instead, perpendicular to the curve at some point </span><i data-reactid=".59euozwn40.2.$pointvectors.6.1">t</i><span data-reactid=".59euozwn40.2.$pointvectors.6.2">? In that case we want the &quot;normal&quot; vector. This vector runs at a right angle to the direction of the curve, and is typically of length 1.0, so all we have to do is rotate the normalized directional vector and we&#x27;re done:</span></p><p data-reactid=".59euozwn40.2.$pointvectors.7"><img class="LaTeX SVG" src="images/latex/6cb29c325e059e236343bdd448c149ecc6d8795f.svg" style="width:22.800150000000002rem;height:4.57515rem;" data-reactid=".59euozwn40.2.$pointvectors.7.0"/></p><div class="note" data-reactid=".59euozwn40.2.$pointvectors.8"><p data-reactid=".59euozwn40.2.$pointvectors.8.0"><span data-reactid=".59euozwn40.2.$pointvectors.8.0.0">Rotating coordinates is actually very easy, if you know the rule for it. You might find it explained as &quot;applying a </span><a href="https://en.wikipedia.org/wiki/Rotation_matrix" data-reactid=".59euozwn40.2.$pointvectors.8.0.1">rotation matrix</a><span data-reactid=".59euozwn40.2.$pointvectors.8.0.2">&quot;, which is what we&#x27;ll look at here, too. Essentially, the idea is to take the circles over which we can rotate, and simply &quot;sliding the coordinates&quot; over those circles by the desired angle. If we want a quarter circle turn, we take the coordinate, slide it along the cirle by a quarter turn, and done.</span></p><p data-reactid=".59euozwn40.2.$pointvectors.8.1"><span data-reactid=".59euozwn40.2.$pointvectors.8.1.0">To turn any point </span><i data-reactid=".59euozwn40.2.$pointvectors.8.1.1">(x,y)</i><span data-reactid=".59euozwn40.2.$pointvectors.8.1.2"> into a rotated point </span><i data-reactid=".59euozwn40.2.$pointvectors.8.1.3">(x&#x27;,y&#x27;)</i><span data-reactid=".59euozwn40.2.$pointvectors.8.1.4"> (over 0,0) by some angle φ, we apply this nicely easy computation:</span></p><p data-reactid=".59euozwn40.2.$pointvectors.8.2"><img class="LaTeX SVG" src="images/latex/d3932ac925ad9f238029d888dc5432f6678f6491.svg" style="width:12.225150000000001rem;height:2.84985rem;" data-reactid=".59euozwn40.2.$pointvectors.8.2.0"/></p><p data-reactid=".59euozwn40.2.$pointvectors.8.3">Which is the &quot;long&quot; version of the following matrix transformation:</p><p data-reactid=".59euozwn40.2.$pointvectors.8.4"><img class="LaTeX SVG" src="images/latex/7297632eb150a8f5f37178612f71e5d0f2c367b1.svg" style="width:15.150150000000002rem;height:2.77515rem;" data-reactid=".59euozwn40.2.$pointvectors.8.4.0"/></p><p data-reactid=".59euozwn40.2.$pointvectors.8.5"><span data-reactid=".59euozwn40.2.$pointvectors.8.5.0">And that&#x27;s all we need to rotate any coordinate. Note that for quarter, half and three quarter turns these functions become even easier, since </span><i data-reactid=".59euozwn40.2.$pointvectors.8.5.1">sin</i><span data-reactid=".59euozwn40.2.$pointvectors.8.5.2"> and</span><i data-reactid=".59euozwn40.2.$pointvectors.8.5.3">cos</i><span data-reactid=".59euozwn40.2.$pointvectors.8.5.4"> for these angles are, respectively: 0 and 1, -1 and 0, and 0 and -1.</span></p><p data-reactid=".59euozwn40.2.$pointvectors.8.6"><span data-reactid=".59euozwn40.2.$pointvectors.8.6.0">But </span><strong data-reactid=".59euozwn40.2.$pointvectors.8.6.1"><em data-reactid=".59euozwn40.2.$pointvectors.8.6.1.0">why</em></strong><span data-reactid=".59euozwn40.2.$pointvectors.8.6.2"> does this work? Why this matrix multiplication?</span><a href="http://en.wikipedia.org/wiki/Rotation_matrix#Decomposition_into_shears" data-reactid=".59euozwn40.2.$pointvectors.8.6.3">wikipedia</a><span data-reactid=".59euozwn40.2.$pointvectors.8.6.4">(Technically, Thomas Herter and Klaus Lott) tells us that a rotation matrix can be treated as a sequence of three (elementary) shear operations. When we combine this into a single matrix operation (because all matrix multiplications can be collapsed), we get the matrix that you see above.</span><a href="http://datagenetics.com/blog/august32013/index.html" data-reactid=".59euozwn40.2.$pointvectors.8.6.5">DataGenetics</a><span data-reactid=".59euozwn40.2.$pointvectors.8.6.6"> have an excellent article about this very thing: it&#x27;s really quite cool, and I strongly recommend taking a quick break from this primer to read that article.</span></p></div><p data-reactid=".59euozwn40.2.$pointvectors.9"><span data-reactid=".59euozwn40.2.$pointvectors.9.0">The following two graphics show the tangent and normal along a quadratic and cubic curve, with the direction vector coloured blue, and the normal vector coloured red (the markers are spaced out evenly as </span><i data-reactid=".59euozwn40.2.$pointvectors.9.1">t</i><span data-reactid=".59euozwn40.2.$pointvectors.9.2">-intervals, not spaced equidistant).</span></p><div class="figure" data-reactid=".59euozwn40.2.$pointvectors.a"><figure class="inline" data-reactid=".59euozwn40.2.$pointvectors.a.0"><canvas tabindex="0" data-reactid=".59euozwn40.2.$pointvectors.a.0.0"></canvas><figcaption data-reactid=".59euozwn40.2.$pointvectors.a.0.1"><span data-reactid=".59euozwn40.2.$pointvectors.a.0.1.0">Quadratic Bézier tangents and normals</span><span data-reactid=".59euozwn40.2.$pointvectors.a.0.1.1"> </span></figcaption></figure><figure class="inline" data-reactid=".59euozwn40.2.$pointvectors.a.1"><canvas tabindex="0" data-reactid=".59euozwn40.2.$pointvectors.a.1.0"></canvas><figcaption data-reactid=".59euozwn40.2.$pointvectors.a.1.1"><span data-reactid=".59euozwn40.2.$pointvectors.a.1.1.0">Cubic Bézier tangents and normals</span><span data-reactid=".59euozwn40.2.$pointvectors.a.1.1.1"> </span></figcaption></figure></div></section><table class="relatives after" data-reactid=".59euozwn40.2.2"><tbody data-reactid=".59euozwn40.2.2.0"><tr data-reactid=".59euozwn40.2.2.0.0"><td data-reactid=".59euozwn40.2.2.0.0.0"><a class="prev" href="derivatives" data-reactid=".59euozwn40.2.2.0.0.0.0">11. Derivatives</a></td><td class="toc" data-reactid=".59euozwn40.2.2.0.0.1"><a class="" href="/" data-reactid=".59euozwn40.2.2.0.0.1.0">ToC</a></td><td data-reactid=".59euozwn40.2.2.0.0.2"><a class="next" href="components" data-reactid=".59euozwn40.2.2.0.0.2.0">13. Component functions</a></td></tr></tbody></table></div><footer class="copyright" data-reactid=".59euozwn40.3"><span data-reactid=".59euozwn40.3.0">This article is © 2011-2016 to me, Mike &quot;Pomax&quot; Kamermans, but the text, code, and images are </span><a href="https://github.com/Pomax/bezierinfo/blob/gh-pages/LICENSE.md" data-reactid=".59euozwn40.3.1">almost no rights reserved</a><span data-reactid=".59euozwn40.3.2">. Go do something cool with it!</span></footer></div>
</body>
</html>