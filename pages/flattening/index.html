<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>
Simplified drawing
</title>
<base href='..'>
</head>
<body>
<div data-reactid=".hi3zddc0sg" data-react-checksum="-797324801"><div class="ribbon" data-reactid=".hi3zddc0sg.0"><img src="images/ribbon.png" alt="This page on GitHub" usemap="#githubmap" width="200px" height="149px" data-reactid=".hi3zddc0sg.0.0"/><map name="githubmap" data-reactid=".hi3zddc0sg.0.1"><area shape="poly" coords="30,0, 200,0, 200,114" href="http://github.com/pomax/BezierInfo-2" alt="This page on GitHub" data-reactid=".hi3zddc0sg.0.1.0"/></map></div><header data-reactid=".hi3zddc0sg.1"><h1 data-reactid=".hi3zddc0sg.1.0">A Primer on Bézier Curves</h1><h2 data-reactid=".hi3zddc0sg.1.1">A free, online book for when you really need to know how to do Bézier things.</h2></header><div data-reactid=".hi3zddc0sg.2"><table class="relatives before" data-reactid=".hi3zddc0sg.2.0"><tbody data-reactid=".hi3zddc0sg.2.0.0"><tr data-reactid=".hi3zddc0sg.2.0.0.0"><td data-reactid=".hi3zddc0sg.2.0.0.0.0"><a class="prev" href="decasteljau" data-reactid=".hi3zddc0sg.2.0.0.0.0.0">6. de Casteljau&#x27;s algorithm</a></td><td class="toc" data-reactid=".hi3zddc0sg.2.0.0.0.1"><a class="" href="/" data-reactid=".hi3zddc0sg.2.0.0.0.1.0">ToC</a></td><td data-reactid=".hi3zddc0sg.2.0.0.0.2"><a class="next" href="splitting" data-reactid=".hi3zddc0sg.2.0.0.0.2.0">8. Splitting curves</a></td></tr></tbody></table><section data-reactid=".hi3zddc0sg.2.$flattening"><h2 data-num="7" data-reactid=".hi3zddc0sg.2.$flattening.0"><a href="#flattening" data-reactid=".hi3zddc0sg.2.$flattening.0.0">Simplified drawing</a></h2><p data-reactid=".hi3zddc0sg.2.$flattening.1">We can also simplify the drawing process by &quot;sampling&quot; the curve at certain points, and then joining those points up with straight lines, a process known as &quot;flattening&quot;, as we are reducing a curve to a simple sequence of straight, &quot;flat&quot; lines.</p><p data-reactid=".hi3zddc0sg.2.$flattening.2">We can do this is by saying &quot;we want X segments&quot;, and then sampling the curve at intervals that are spaced such that we end up with the number of segments we wanted. The advantage of this method is that it&#x27;s fast: instead of evaluating 100 or even 1000 curve coordinates, we can sample a much lower number and still end up with a curve that sort-of-kind-of looks good enough. The disadvantage of course is that we lose the precision of working with &quot;the real curve&quot;, so we usually can&#x27;t use the flattened for for doing true intersection detection, or curvature alignment.</p><figure class="false" data-reactid=".hi3zddc0sg.2.$flattening.3"><canvas tabindex="0" data-reactid=".hi3zddc0sg.2.$flattening.3.0"></canvas><figcaption data-reactid=".hi3zddc0sg.2.$flattening.3.1"><span data-reactid=".hi3zddc0sg.2.$flattening.3.1.0">Flattening a quadratic curve</span><span data-reactid=".hi3zddc0sg.2.$flattening.3.1.1"> </span></figcaption></figure><figure class="false" data-reactid=".hi3zddc0sg.2.$flattening.4"><canvas tabindex="0" data-reactid=".hi3zddc0sg.2.$flattening.4.0"></canvas><figcaption data-reactid=".hi3zddc0sg.2.$flattening.4.1"><span data-reactid=".hi3zddc0sg.2.$flattening.4.1.0">Flattening a cubic curve</span><span data-reactid=".hi3zddc0sg.2.$flattening.4.1.1"> </span></figcaption></figure><p data-reactid=".hi3zddc0sg.2.$flattening.5">Try clicking on the sketch and using your up and down arrow keys to lower the number of segments for both the quadratic and cubic curve. You&#x27;ll notice that for certain curvatures, a low number of segments works quite well, but for more complex curvatures (try this for the cubic curve), a higher number is required to capture the curvature changes properly.</p><div class="howtocode" data-reactid=".hi3zddc0sg.2.$flattening.6"><h3 data-reactid=".hi3zddc0sg.2.$flattening.6.0">How to implement curve flattening</h3><p data-reactid=".hi3zddc0sg.2.$flattening.6.1">Let&#x27;s just use the algorithm we just specified, and implement that:</p><pre data-reactid=".hi3zddc0sg.2.$flattening.6.2"><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.0">function flattenCurve(curve, segmentCount):</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.1">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.2">  step = 1/segmentCount;</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.3">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.4">  coordinates = [curve.getXValue(0), curve.getYValue(0)]</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.5">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.6">  for(i=1; i &lt;= segmentCount; i++):</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.7">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.8">    t = i*step;</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.9">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.a">    coordinates.push[curve.getXValue(t), curve.getYValue(t)]</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.b">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.2.c">  return coordinates;</span></pre><p data-reactid=".hi3zddc0sg.2.$flattening.6.3">And done, that&#x27;s the algorithm implemented. That just leaves drawing the resulting &quot;curve&quot; as a sequence of lines:</p><pre data-reactid=".hi3zddc0sg.2.$flattening.6.4"><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.0">function drawFlattenedCurve(curve, segmentCount):</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.1">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.2">  coordinates = flattenCurve(curve, segmentCount)</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.3">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.4">  coord = coordinates[0], _coords;</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.5">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.6">  for(i=1; i &lt; coordinates.length; i++):</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.7">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.8">    _coords = coordinates[i]</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.9">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.a">    line(coords, _coords)</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.b">
</span><span data-reactid=".hi3zddc0sg.2.$flattening.6.4.c">    coords = _coords</span></pre><p data-reactid=".hi3zddc0sg.2.$flattening.6.5">We start with the first coordinate as reference point, and then just draw lines between each point and its next point.</p></div></section><table class="relatives after" data-reactid=".hi3zddc0sg.2.2"><tbody data-reactid=".hi3zddc0sg.2.2.0"><tr data-reactid=".hi3zddc0sg.2.2.0.0"><td data-reactid=".hi3zddc0sg.2.2.0.0.0"><a class="prev" href="decasteljau" data-reactid=".hi3zddc0sg.2.2.0.0.0.0">6. de Casteljau&#x27;s algorithm</a></td><td class="toc" data-reactid=".hi3zddc0sg.2.2.0.0.1"><a class="" href="/" data-reactid=".hi3zddc0sg.2.2.0.0.1.0">ToC</a></td><td data-reactid=".hi3zddc0sg.2.2.0.0.2"><a class="next" href="splitting" data-reactid=".hi3zddc0sg.2.2.0.0.2.0">8. Splitting curves</a></td></tr></tbody></table></div><footer class="copyright" data-reactid=".hi3zddc0sg.3"><span data-reactid=".hi3zddc0sg.3.0">This article is © 2011-2016 to me, Mike &quot;Pomax&quot; Kamermans, but the text, code, and images are </span><a href="https://github.com/Pomax/bezierinfo/blob/gh-pages/LICENSE.md" data-reactid=".hi3zddc0sg.3.1">almost no rights reserved</a><span data-reactid=".hi3zddc0sg.3.2">. Go do something cool with it!</span></footer></div>
</body>
</html>