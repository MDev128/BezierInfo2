<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>
Curve/curve intersection
</title>
<base href='..'>
</head>
<body>
<div data-reactid=".1nxroqdw6ww" data-react-checksum="-1537787850"><div class="ribbon" data-reactid=".1nxroqdw6ww.0"><img src="images/ribbon.png" alt="This page on GitHub" usemap="#githubmap" width="200px" height="149px" data-reactid=".1nxroqdw6ww.0.0"/><map name="githubmap" data-reactid=".1nxroqdw6ww.0.1"><area shape="poly" coords="30,0, 200,0, 200,114" href="http://github.com/pomax/BezierInfo-2" alt="This page on GitHub" data-reactid=".1nxroqdw6ww.0.1.0"/></map></div><header data-reactid=".1nxroqdw6ww.1"><h1 data-reactid=".1nxroqdw6ww.1.0">A Primer on Bézier Curves</h1><h2 data-reactid=".1nxroqdw6ww.1.1">A free, online book for when you really need to know how to do Bézier things.</h2></header><div data-reactid=".1nxroqdw6ww.2"><table class="relatives before" data-reactid=".1nxroqdw6ww.2.0"><tbody data-reactid=".1nxroqdw6ww.2.0.0"><tr data-reactid=".1nxroqdw6ww.2.0.0.0"><td data-reactid=".1nxroqdw6ww.2.0.0.0.0"><a class="prev" href="intersections" data-reactid=".1nxroqdw6ww.2.0.0.0.0.0">22. Intersections</a></td><td class="toc" data-reactid=".1nxroqdw6ww.2.0.0.0.1"><a class="" href="/" data-reactid=".1nxroqdw6ww.2.0.0.0.1.0">ToC</a></td><td data-reactid=".1nxroqdw6ww.2.0.0.0.2"><a class="next" href="abc" data-reactid=".1nxroqdw6ww.2.0.0.0.2.0">24. The projection identity</a></td></tr></tbody></table><section data-reactid=".1nxroqdw6ww.2.$curveintersection"><h2 data-num="23" data-reactid=".1nxroqdw6ww.2.$curveintersection.0"><a href="#curveintersection" data-reactid=".1nxroqdw6ww.2.$curveintersection.0.0">Curve/curve intersection</a></h2><p data-reactid=".1nxroqdw6ww.2.$curveintersection.1">Using de Casteljau&#x27;s algorithm to split the curve we can now implement curve/curve intersection finding using a &quot;divide and conquer&quot; technique:</p><ul data-reactid=".1nxroqdw6ww.2.$curveintersection.2"><li data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.0">Take two curves </span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.1"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.1.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.1.1">1</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.2"> and </span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.3"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.3.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.3.1">2</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.0.4">, and treat them as a pair.</span></li><li data-reactid=".1nxroqdw6ww.2.$curveintersection.2.1">If their bounding boxes overlap, split up each curve into two sub-curves</li><li data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.0">With </span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.1"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.1.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.1.1">1.1</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.2">, </span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.3"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.3.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.3.1">1.2</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.4">, </span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.5"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.5.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.5.1">2.1</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.6"> and </span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.7"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.7.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.7.1">2.2</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.8">, form four new pairs (</span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.9"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.9.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.9.1">1.1</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.a">,</span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.b"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.b.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.b.1">2.1</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.c">), (</span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.d"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.d.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.d.1">1.1</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.e">, </span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.f"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.f.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.f.1">2.2</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.g">), (</span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.h"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.h.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.h.1">1.2</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.i">,</span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.j"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.j.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.j.1">2.1</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.k">), and (</span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.l"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.l.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.l.1">1.2</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.m">,</span><i data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.n"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.n.0">C</span><sub data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.n.1">2.2</sub></i><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.2.o">).</span></li><li data-reactid=".1nxroqdw6ww.2.$curveintersection.2.3"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.3.0">For each pair, check whether their bounding boxes overlap.</span><ul data-reactid=".1nxroqdw6ww.2.$curveintersection.2.3.1"><li data-reactid=".1nxroqdw6ww.2.$curveintersection.2.3.1.0">If their bounding boxes do not overlap, discard the pair, as there is no intersection between this pair of curves.</li><li data-reactid=".1nxroqdw6ww.2.$curveintersection.2.3.1.1"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.3.1.1.0">If there </span><em data-reactid=".1nxroqdw6ww.2.$curveintersection.2.3.1.1.1">is</em><span data-reactid=".1nxroqdw6ww.2.$curveintersection.2.3.1.1.2"> overlap, rerun all steps for this pair.</span></li></ul></li><li data-reactid=".1nxroqdw6ww.2.$curveintersection.2.4">Once the sub-curves we form are so small that they effectively occupy sub-pixel areas, we consider an intersection found.</li></ul><p data-reactid=".1nxroqdw6ww.2.$curveintersection.3">This algorithm will start with a single pair, &quot;balloon&quot; until it runs in parallel for a large number of potential sub-pairs, and then taper back down as it homes in on intersection coordinates, ending up with as many pairs as there are intersections.</p><p data-reactid=".1nxroqdw6ww.2.$curveintersection.4">The following graphic applies this algorithm to a pair of cubic curves, one step at a time, so you can see the algorithm in action. Click the button to run a single step in the algorithm, after setting up your curves in some creative arrangement. The algorithm resets once it&#x27;s found a solution, so you can try this with lots of different curves (can you find the configuration that yields the maximum number of intersections between two cubic curves? Nine intersections!)</p><figure class="false" data-reactid=".1nxroqdw6ww.2.$curveintersection.5"><canvas tabindex="0" data-reactid=".1nxroqdw6ww.2.$curveintersection.5.0"></canvas><figcaption data-reactid=".1nxroqdw6ww.2.$curveintersection.5.1"><span data-reactid=".1nxroqdw6ww.2.$curveintersection.5.1.0">Curve/curve intersections</span><span data-reactid=".1nxroqdw6ww.2.$curveintersection.5.1.1"> </span><button data-reactid=".1nxroqdw6ww.2.$curveintersection.5.1.2">advance one step</button></figcaption></figure><p data-reactid=".1nxroqdw6ww.2.$curveintersection.6">Self-intersection is dealt with in the same way, except we turn a curve into two or more curves first based on the inflection points. We then form all possible curve pairs with the resultant segments, and run exactly the same algorithm. All non-overlapping curve pairs will be removed after the first iteration, and the remaining steps home in on the curve&#x27;s self-intersection points.</p></section><table class="relatives after" data-reactid=".1nxroqdw6ww.2.2"><tbody data-reactid=".1nxroqdw6ww.2.2.0"><tr data-reactid=".1nxroqdw6ww.2.2.0.0"><td data-reactid=".1nxroqdw6ww.2.2.0.0.0"><a class="prev" href="intersections" data-reactid=".1nxroqdw6ww.2.2.0.0.0.0">22. Intersections</a></td><td class="toc" data-reactid=".1nxroqdw6ww.2.2.0.0.1"><a class="" href="/" data-reactid=".1nxroqdw6ww.2.2.0.0.1.0">ToC</a></td><td data-reactid=".1nxroqdw6ww.2.2.0.0.2"><a class="next" href="abc" data-reactid=".1nxroqdw6ww.2.2.0.0.2.0">24. The projection identity</a></td></tr></tbody></table></div><footer class="copyright" data-reactid=".1nxroqdw6ww.3"><span data-reactid=".1nxroqdw6ww.3.0">This article is © 2011-2016 to me, Mike &quot;Pomax&quot; Kamermans, but the text, code, and images are </span><a href="https://github.com/Pomax/bezierinfo/blob/gh-pages/LICENSE.md" data-reactid=".1nxroqdw6ww.3.1">almost no rights reserved</a><span data-reactid=".1nxroqdw6ww.3.2">. Go do something cool with it!</span></footer></div>
</body>
</html>