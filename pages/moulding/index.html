<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>
Manipulating a curve
</title>
<base href='..'>
</head>
<body>
<div data-reactid=".1mj3qwja2v4" data-react-checksum="-618508424"><div class="ribbon" data-reactid=".1mj3qwja2v4.0"><img src="images/ribbon.png" alt="This page on GitHub" usemap="#githubmap" width="200px" height="149px" data-reactid=".1mj3qwja2v4.0.0"/><map name="githubmap" data-reactid=".1mj3qwja2v4.0.1"><area shape="poly" coords="30,0, 200,0, 200,114" href="http://github.com/pomax/BezierInfo-2" alt="This page on GitHub" data-reactid=".1mj3qwja2v4.0.1.0"/></map></div><header data-reactid=".1mj3qwja2v4.1"><h1 data-reactid=".1mj3qwja2v4.1.0">A Primer on Bézier Curves</h1><h2 data-reactid=".1mj3qwja2v4.1.1">A free, online book for when you really need to know how to do Bézier things.</h2></header><div data-reactid=".1mj3qwja2v4.2"><table class="relatives before" data-reactid=".1mj3qwja2v4.2.0"><tbody data-reactid=".1mj3qwja2v4.2.0.0"><tr data-reactid=".1mj3qwja2v4.2.0.0.0"><td data-reactid=".1mj3qwja2v4.2.0.0.0.0"><a class="prev" href="abc" data-reactid=".1mj3qwja2v4.2.0.0.0.0.0">24. The projection identity</a></td><td class="toc" data-reactid=".1mj3qwja2v4.2.0.0.0.1"><a class="" href="/" data-reactid=".1mj3qwja2v4.2.0.0.0.1.0">ToC</a></td><td data-reactid=".1mj3qwja2v4.2.0.0.0.2"><a class="next" href="pointcurves" data-reactid=".1mj3qwja2v4.2.0.0.0.2.0">26. Creating a curve from three points</a></td></tr></tbody></table><section data-reactid=".1mj3qwja2v4.2.$moulding"><h2 data-num="25" data-reactid=".1mj3qwja2v4.2.$moulding.0"><a href="#moulding" data-reactid=".1mj3qwja2v4.2.$moulding.0.0">Manipulating a curve</a></h2><p data-reactid=".1mj3qwja2v4.2.$moulding.1"><span data-reactid=".1mj3qwja2v4.2.$moulding.1.0">Armed with knowledge of the &quot;ABC&quot; relation, we can now update a curve interactively, by letting people click anywhere on the curve, find the </span><em data-reactid=".1mj3qwja2v4.2.$moulding.1.1">t</em><span data-reactid=".1mj3qwja2v4.2.$moulding.1.2">-value matching that coordinate, and then letting them drag that point around. With every drag update we&#x27;ll have a new point &quot;B&quot;, which we can combine with the fixed point &quot;C&quot; to find our new point A. Once we have those, we can reconstruct the de Casteljau skeleton and thus construct a new curve with the same start/end points as the original curve, passing through the user-selected point B, with correct new control points.</span></p><figure class="false" data-reactid=".1mj3qwja2v4.2.$moulding.2"><canvas tabindex="0" data-reactid=".1mj3qwja2v4.2.$moulding.2.0"></canvas><figcaption data-reactid=".1mj3qwja2v4.2.$moulding.2.1"><span data-reactid=".1mj3qwja2v4.2.$moulding.2.1.0">Moulding a quadratic Bézier curve</span><span data-reactid=".1mj3qwja2v4.2.$moulding.2.1.1"> </span></figcaption></figure><p data-reactid=".1mj3qwja2v4.2.$moulding.3"><strong data-reactid=".1mj3qwja2v4.2.$moulding.3.0">Click-dragging the curve itself</strong><span data-reactid=".1mj3qwja2v4.2.$moulding.3.1"> shows what we&#x27;re using to compute the new coordinates: while dragging you will see the original points B and its corresponding </span><i data-reactid=".1mj3qwja2v4.2.$moulding.3.2">t</i><span data-reactid=".1mj3qwja2v4.2.$moulding.3.3">-value, the original point C for that </span><i data-reactid=".1mj3qwja2v4.2.$moulding.3.4">t</i><span data-reactid=".1mj3qwja2v4.2.$moulding.3.5">-value, as well as the new point B&#x27; based on the mouse cursor. Since we know the </span><i data-reactid=".1mj3qwja2v4.2.$moulding.3.6">t</i><span data-reactid=".1mj3qwja2v4.2.$moulding.3.7">-value for this configuration, we can compute the ABC ratio for this configuration, and we know that our new point A&#x27; should like at a distance:</span></p><p data-reactid=".1mj3qwja2v4.2.$moulding.4"><img class="LaTeX SVG" src="images/latex/e361e1235c94bbe87e95834c7fcfb6ab96e028b9.svg" style="width:15.600150000000001rem;height:2.3998500000000003rem;" data-reactid=".1mj3qwja2v4.2.$moulding.4.0"/></p><p data-reactid=".1mj3qwja2v4.2.$moulding.5">For quadratic curves, this means we&#x27;re done, since the new point A&#x27; is equivalent to the new quadratic control point. For cubic curves, we need to do a little more work:</p><figure class="false" data-reactid=".1mj3qwja2v4.2.$moulding.6"><canvas tabindex="0" data-reactid=".1mj3qwja2v4.2.$moulding.6.0"></canvas><figcaption data-reactid=".1mj3qwja2v4.2.$moulding.6.1"><span data-reactid=".1mj3qwja2v4.2.$moulding.6.1.0">Moulding a cubic Bézier curve</span><span data-reactid=".1mj3qwja2v4.2.$moulding.6.1.1"> </span></figcaption></figure><p data-reactid=".1mj3qwja2v4.2.$moulding.7"><span data-reactid=".1mj3qwja2v4.2.$moulding.7.0">To help understand what&#x27;s going on, the cubic graphic shows the full de Casteljau construction &quot;hull&quot; when repositioning point B. We compute A` in exactly the same way as before, but we also record the final strut line that forms B in the original curve. Given A&#x27;, B&#x27;, and the endpoints e1 and e2 of the strut line relative to B&#x27;, we can now compute where the new control points should be. Remember that B&#x27; lies on line e1--e2 at a distance </span><i data-reactid=".1mj3qwja2v4.2.$moulding.7.1">t</i><span data-reactid=".1mj3qwja2v4.2.$moulding.7.2">, because that&#x27;s how Bézier curves work. In the same manner, we know the distance A--e1 is only line-interval [0,t] of the full segment, and A--e2 is only line-interval [t,1], so constructing the new control points is fairly easy.</span></p><p data-reactid=".1mj3qwja2v4.2.$moulding.8">First, we construct the one-level-of-de-Casteljau-up points:</p><p data-reactid=".1mj3qwja2v4.2.$moulding.9"><img class="LaTeX SVG" src="images/latex/f813a7d607787329d242bfbfa28570c88c3e30f5.svg" style="width:9.975150000000001rem;height:5.09985rem;" data-reactid=".1mj3qwja2v4.2.$moulding.9.0"/></p><p data-reactid=".1mj3qwja2v4.2.$moulding.a">And then we can compute the new control points:</p><p data-reactid=".1mj3qwja2v4.2.$moulding.b"><img class="LaTeX SVG" src="images/latex/4ec5f4148752a3d332a922048700d2c71918342f.svg" style="width:11.700000000000001rem;height:4.64985rem;" data-reactid=".1mj3qwja2v4.2.$moulding.b.0"/></p><p data-reactid=".1mj3qwja2v4.2.$moulding.c">And that&#x27;s cubic curve manipulation.</p></section><table class="relatives after" data-reactid=".1mj3qwja2v4.2.2"><tbody data-reactid=".1mj3qwja2v4.2.2.0"><tr data-reactid=".1mj3qwja2v4.2.2.0.0"><td data-reactid=".1mj3qwja2v4.2.2.0.0.0"><a class="prev" href="abc" data-reactid=".1mj3qwja2v4.2.2.0.0.0.0">24. The projection identity</a></td><td class="toc" data-reactid=".1mj3qwja2v4.2.2.0.0.1"><a class="" href="/" data-reactid=".1mj3qwja2v4.2.2.0.0.1.0">ToC</a></td><td data-reactid=".1mj3qwja2v4.2.2.0.0.2"><a class="next" href="pointcurves" data-reactid=".1mj3qwja2v4.2.2.0.0.2.0">26. Creating a curve from three points</a></td></tr></tbody></table></div><footer class="copyright" data-reactid=".1mj3qwja2v4.3"><span data-reactid=".1mj3qwja2v4.3.0">This article is © 2011-2016 to me, Mike &quot;Pomax&quot; Kamermans, but the text, code, and images are </span><a href="https://github.com/Pomax/bezierinfo/blob/gh-pages/LICENSE.md" data-reactid=".1mj3qwja2v4.3.1">almost no rights reserved</a><span data-reactid=".1mj3qwja2v4.3.2">. Go do something cool with it!</span></footer></div>
</body>
</html>