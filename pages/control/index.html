<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<title>
Controlling Bézier curvatures
</title>
<base href='..'>
</head>
<body>
<div data-reactid=".1p4p5v66qyo" data-react-checksum="-485108597"><div class="ribbon" data-reactid=".1p4p5v66qyo.0"><img src="images/ribbon.png" alt="This page on GitHub" usemap="#githubmap" width="200px" height="149px" data-reactid=".1p4p5v66qyo.0.0"/><map name="githubmap" data-reactid=".1p4p5v66qyo.0.1"><area shape="poly" coords="30,0, 200,0, 200,114" href="http://github.com/pomax/BezierInfo-2" alt="This page on GitHub" data-reactid=".1p4p5v66qyo.0.1.0"/></map></div><header data-reactid=".1p4p5v66qyo.1"><h1 data-reactid=".1p4p5v66qyo.1.0">A Primer on Bézier Curves</h1><h2 data-reactid=".1p4p5v66qyo.1.1">A free, online book for when you really need to know how to do Bézier things.</h2></header><div data-reactid=".1p4p5v66qyo.2"><table class="relatives before" data-reactid=".1p4p5v66qyo.2.0"><tbody data-reactid=".1p4p5v66qyo.2.0.0"><tr data-reactid=".1p4p5v66qyo.2.0.0.0"><td data-reactid=".1p4p5v66qyo.2.0.0.0.0"><a class="prev" href="explanation" data-reactid=".1p4p5v66qyo.2.0.0.0.0.0">3. The mathematics of Bézier curves</a></td><td class="toc" data-reactid=".1p4p5v66qyo.2.0.0.0.1"><a class="" href="/" data-reactid=".1p4p5v66qyo.2.0.0.0.1.0">ToC</a></td><td data-reactid=".1p4p5v66qyo.2.0.0.0.2"><a class="next" href="matrix" data-reactid=".1p4p5v66qyo.2.0.0.0.2.0">5. Bézier curvatures as matrix operations</a></td></tr></tbody></table><section data-reactid=".1p4p5v66qyo.2.$control"><h2 data-num="4" data-reactid=".1p4p5v66qyo.2.$control.0"><a href="#control" data-reactid=".1p4p5v66qyo.2.$control.0.0">Controlling Bézier curvatures</a></h2><p data-reactid=".1p4p5v66qyo.2.$control.1">Bézier curves are (like all &quot;splines&quot;) interpolation functions, meaning they take a set of points, and generate values somewhere &quot;between&quot; those points. (One of the consequences of this is that you&#x27;ll never be able to generate a point that lies outside the outline for the control points, commonly called the &quot;hull&quot; for the curve. Useful information!). In fact, we can visualize how each point contributes to the value generated by the function, so we can see which points are important, where, in the curve.</p><p data-reactid=".1p4p5v66qyo.2.$control.2"><span data-reactid=".1p4p5v66qyo.2.$control.2.0">The following graphs show the interpolation functions for quadratic and cubic curves, with &quot;S&quot; being the strength of a point&#x27;s contribution to the total sum of the Bézier function. Click or click-drag to see the interpolation percentages for each curve-defining point at a specific </span><i data-reactid=".1p4p5v66qyo.2.$control.2.1">t</i><span data-reactid=".1p4p5v66qyo.2.$control.2.2"> value.</span></p><div class="figure" data-reactid=".1p4p5v66qyo.2.$control.3"><figure class="inline" data-reactid=".1p4p5v66qyo.2.$control.3.0"><canvas tabindex="0" data-reactid=".1p4p5v66qyo.2.$control.3.0.0"></canvas><figcaption data-reactid=".1p4p5v66qyo.2.$control.3.0.1"><span data-reactid=".1p4p5v66qyo.2.$control.3.0.1.0">Quadratic interpolations</span><span data-reactid=".1p4p5v66qyo.2.$control.3.0.1.1"> </span></figcaption></figure><figure class="inline" data-reactid=".1p4p5v66qyo.2.$control.3.1"><canvas tabindex="0" data-reactid=".1p4p5v66qyo.2.$control.3.1.0"></canvas><figcaption data-reactid=".1p4p5v66qyo.2.$control.3.1.1"><span data-reactid=".1p4p5v66qyo.2.$control.3.1.1.0">Cubic interpolations</span><span data-reactid=".1p4p5v66qyo.2.$control.3.1.1.1"> </span></figcaption></figure><figure class="inline" data-reactid=".1p4p5v66qyo.2.$control.3.2"><canvas tabindex="0" data-reactid=".1p4p5v66qyo.2.$control.3.2.0"></canvas><figcaption data-reactid=".1p4p5v66qyo.2.$control.3.2.1"><span data-reactid=".1p4p5v66qyo.2.$control.3.2.1.0">15th order interpolations</span><span data-reactid=".1p4p5v66qyo.2.$control.3.2.1.1"> </span></figcaption></figure></div><p data-reactid=".1p4p5v66qyo.2.$control.4"><span data-reactid=".1p4p5v66qyo.2.$control.4.0">Also shown is the interpolation function for a 15</span><sup data-reactid=".1p4p5v66qyo.2.$control.4.1">th</sup><span data-reactid=".1p4p5v66qyo.2.$control.4.2"> order Bézier function. As you can see, the start and end point contribute considerably more to the curve&#x27;s shape than any other point in the control point set.</span></p><p data-reactid=".1p4p5v66qyo.2.$control.5">If we want to change the curve, we need to change the weights of each point, effectively changing the interpolations. The way to do this is about as straight forward as possible: just multiply each point with a value that changes its strength. These values are conventionally called &quot;Weights&quot;, and we can add them to our original Bézier function:</p><p data-reactid=".1p4p5v66qyo.2.$control.6"><img class="LaTeX SVG" src="images/latex/b98618f8061e9e58289abccc06a624a14561d40f.svg" style="width:23.70015rem;height:3.90015rem;" data-reactid=".1p4p5v66qyo.2.$control.6.0"/></p><p data-reactid=".1p4p5v66qyo.2.$control.7"><span data-reactid=".1p4p5v66qyo.2.$control.7.0">That looks complicated, but as it so happens, the &quot;weights&quot; are actually just the coordinate values we want our curve to have: for an </span><i data-reactid=".1p4p5v66qyo.2.$control.7.1"><span data-reactid=".1p4p5v66qyo.2.$control.7.1.0">n</span><sup data-reactid=".1p4p5v66qyo.2.$control.7.1.1">th</sup></i><span data-reactid=".1p4p5v66qyo.2.$control.7.2"> order curve, w</span><sub data-reactid=".1p4p5v66qyo.2.$control.7.3">0</sub><span data-reactid=".1p4p5v66qyo.2.$control.7.4"> is our start coordinate, w</span><sub data-reactid=".1p4p5v66qyo.2.$control.7.5">n</sub><span data-reactid=".1p4p5v66qyo.2.$control.7.6"> is our last coordinate, and everything in between is a controlling coordinate. Say we want a cubic curve that starts at (120,160), is controlled by (35,200) and (220,260) and ends at (220,40), we use this Bézier curve:</span></p><p data-reactid=".1p4p5v66qyo.2.$control.8"><img class="LaTeX SVG" src="images/latex/853858526831a7ef3eb170efe49de397bb4913a1.svg" style="width:32.025150000000004rem;height:2.77515rem;" data-reactid=".1p4p5v66qyo.2.$control.8.0"/></p><p data-reactid=".1p4p5v66qyo.2.$control.9">Which gives us the curve we saw at the top of the article:</p><figure class="false" data-reactid=".1p4p5v66qyo.2.$control.a"><canvas tabindex="0" data-reactid=".1p4p5v66qyo.2.$control.a.0"></canvas><figcaption data-reactid=".1p4p5v66qyo.2.$control.a.1"><span data-reactid=".1p4p5v66qyo.2.$control.a.1.0">Our cubic Bézier curve</span><span data-reactid=".1p4p5v66qyo.2.$control.a.1.1"> </span></figcaption></figure><p data-reactid=".1p4p5v66qyo.2.$control.b">What else can we do with Bézier curves? Quite a lot, actually. The rest of this article covers a multitude of possible operations and algorithms that we can apply, and the tasks they achieve.</p><div class="howtocode" data-reactid=".1p4p5v66qyo.2.$control.c"><h3 data-reactid=".1p4p5v66qyo.2.$control.c.0">How to implement the weighted basis function</h3><p data-reactid=".1p4p5v66qyo.2.$control.c.1">Given that we already know how to implement basis function, adding in the control points is remarkably easy:</p><pre data-reactid=".1p4p5v66qyo.2.$control.c.2"><span data-reactid=".1p4p5v66qyo.2.$control.c.2.0">function Bezier(n,t,w[]):</span><span data-reactid=".1p4p5v66qyo.2.$control.c.2.1">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.2.2">  sum = 0</span><span data-reactid=".1p4p5v66qyo.2.$control.c.2.3">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.2.4">  for(k=0; k&lt;n; k++):</span><span data-reactid=".1p4p5v66qyo.2.$control.c.2.5">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.2.6">    sum += w[k] * binomial(n,k) * (1-t)^(n-k) * t^(k)</span><span data-reactid=".1p4p5v66qyo.2.$control.c.2.7">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.2.8">  return sum</span></pre><p data-reactid=".1p4p5v66qyo.2.$control.c.3">And for the extremely optimized versions:</p><pre data-reactid=".1p4p5v66qyo.2.$control.c.4"><span data-reactid=".1p4p5v66qyo.2.$control.c.4.0">function Bezier(2,t,w[]):</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.1">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.2">  t2 = t * t</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.3">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.4">  mt = 1-t</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.5">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.6">  mt2 = mt * mt</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.7">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.8">  return w[0]*mt2 + w[1]*2*mt*t + w[2]*t2</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.9">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.a">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.b">function Bezier(3,t,w[]):</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.c">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.d">  t2 = t * t</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.e">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.f">  t3 = t2 * t</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.g">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.h">  mt = 1-t</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.i">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.j">  mt2 = mt * mt</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.k">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.l">  mt3 = mt2 * mt</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.m">
</span><span data-reactid=".1p4p5v66qyo.2.$control.c.4.n">  return w[0]*mt3 + 3*w[1]*mt2*t + 3*w[2]*mt*t2 + w[3]*t3</span></pre><p data-reactid=".1p4p5v66qyo.2.$control.c.5">And now we know how to program the weighted basis function.</p></div></section><table class="relatives after" data-reactid=".1p4p5v66qyo.2.2"><tbody data-reactid=".1p4p5v66qyo.2.2.0"><tr data-reactid=".1p4p5v66qyo.2.2.0.0"><td data-reactid=".1p4p5v66qyo.2.2.0.0.0"><a class="prev" href="explanation" data-reactid=".1p4p5v66qyo.2.2.0.0.0.0">3. The mathematics of Bézier curves</a></td><td class="toc" data-reactid=".1p4p5v66qyo.2.2.0.0.1"><a class="" href="/" data-reactid=".1p4p5v66qyo.2.2.0.0.1.0">ToC</a></td><td data-reactid=".1p4p5v66qyo.2.2.0.0.2"><a class="next" href="matrix" data-reactid=".1p4p5v66qyo.2.2.0.0.2.0">5. Bézier curvatures as matrix operations</a></td></tr></tbody></table></div><footer class="copyright" data-reactid=".1p4p5v66qyo.3"><span data-reactid=".1p4p5v66qyo.3.0">This article is © 2011-2016 to me, Mike &quot;Pomax&quot; Kamermans, but the text, code, and images are </span><a href="https://github.com/Pomax/bezierinfo/blob/gh-pages/LICENSE.md" data-reactid=".1p4p5v66qyo.3.1">almost no rights reserved</a><span data-reactid=".1p4p5v66qyo.3.2">. Go do something cool with it!</span></footer></div>
</body>
</html>